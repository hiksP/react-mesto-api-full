{"ast":null,"code":"import _slicedToArray from\"C:/Users/hiksvalP/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{CurrentUserContext}from'../contexts/CurrentUserContext.js';import React from\"react\";import{useContext,useEffect,useState}from\"react\";import{PopupWithForm}from'./PopupWithForm.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);var handleChagneName=function handleChagneName(e){setName(e.target.value);};var handleChangeAbout=function handleChangeAbout(e){setDescription(e.target.value);};var handleSubmit=function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:description});};return/*#__PURE__*/_jsx(PopupWithForm,{name:\"edit\",isOpen:isOpen,onClose:onClose,title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"ul\",{className:\"popup__list\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"popup__list-element\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name||'',onChange:handleChagneName,className:\"popup__data-box\",required:true,minLength:\"2\",maxLength:\"40\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error\",id:\"name-error\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"popup__list-element\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description||'',onChange:handleChangeAbout,className:\"popup__data-box\",required:true,minLength:\"2\",maxLength:\"200\",name:\"status\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error\",id:\"status-error\"})]})]})});}","map":{"version":3,"sources":["C:/Users/hiksvalP/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["CurrentUserContext","React","useContext","useEffect","useState","PopupWithForm","EditProfilePopup","isOpen","onClose","onUpdateUser","currentUser","name","setName","description","setDescription","about","handleChagneName","e","target","value","handleChangeAbout","handleSubmit","preventDefault"],"mappings":"wHAAA,OAASA,kBAAT,KAAmC,mCAAnC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,OAASC,aAAT,KAA8B,oBAA9B,C,wFAEA,MAAO,SAASC,CAAAA,gBAAT,MAA2D,IAAhCC,CAAAA,MAAgC,MAAhCA,MAAgC,CAAxBC,OAAwB,MAAxBA,OAAwB,CAAfC,YAAe,MAAfA,YAAe,CAE9D,GAAMC,CAAAA,WAAW,CAAGR,UAAU,CAACF,kBAAD,CAA9B,CAEA,cAAwBI,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAAuCR,QAAQ,CAAC,EAAD,CAA/C,yCAAOS,WAAP,eAAqBC,cAArB,eAEAX,SAAS,CAAC,UAAM,CACZS,OAAO,CAACF,WAAW,CAACC,IAAb,CAAP,CACAG,cAAc,CAACJ,WAAW,CAACK,KAAb,CAAd,CACD,CAHM,CAGJ,CAACL,WAAD,CAAcH,MAAd,CAHI,CAAT,CAKA,GAAMS,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,CAAD,CAAO,CAC5BL,OAAO,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAFD,CAIA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACH,CAAD,CAAO,CAC7BH,cAAc,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACH,CAFD,CAIA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,CAAD,CAAO,CAC1B;AACAA,CAAC,CAACK,cAAF,GAEA;AACAb,YAAY,CAAC,CACXE,IAAI,CAAJA,IADW,CAEXI,KAAK,CAAEF,WAFI,CAAD,CAAZ,CAID,CATD,CAWA,mBACE,KAAC,aAAD,EACC,IAAI,CAAC,MADN,CAEC,MAAM,CAAEN,MAFT,CAGC,OAAO,CAAEC,OAHV,CAIC,KAAK,CAAC,2HAJP,CAKC,QAAQ,CAAEa,YALX,CAMC,QAAQ,cACL,YAAI,SAAS,CAAC,aAAd,wBACI,YAAI,SAAS,CAAC,qBAAd,wBACA,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEV,IAAI,EAAI,EAAlC,CAAsC,QAAQ,CAAEK,gBAAhD,CAAkE,SAAS,CAAC,iBAA5E,CAA8F,QAAQ,KAAtG,CAAuG,SAAS,CAAC,GAAjH,CAAqH,SAAS,CAAC,IAA/H,CAAoI,IAAI,CAAC,MAAzI,CAAgJ,WAAW,CAAC,6FAA5J,EADA,cAEA,aAAM,SAAS,CAAC,oBAAhB,CAAqC,EAAE,CAAC,YAAxC,EAFA,GADJ,cAKI,YAAI,SAAS,CAAC,qBAAd,wBACA,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEH,WAAW,EAAI,EAAzC,CAA6C,QAAQ,CAAEO,iBAAvD,CAA0E,SAAS,CAAC,iBAApF,CAAsG,QAAQ,KAA9G,CAA+G,SAAS,CAAC,GAAzH,CAA6H,SAAS,CAAC,KAAvI,CAA6I,IAAI,CAAC,QAAlJ,CAA2J,WAAW,CAAC,2KAAvK,EADA,cAEA,aAAM,SAAS,CAAC,oBAAhB,CAAqC,EAAE,CAAC,cAAxC,EAFA,GALJ,GAPJ,EADF,CAoBH","sourcesContent":["import { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport React from \"react\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { PopupWithForm } from './PopupWithForm.js';\r\n\r\nexport function EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = useState('');\r\n    const [description , setDescription] = useState('');\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser, isOpen]); \r\n\r\n    const handleChagneName = (e) => {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    const handleChangeAbout = (e) => {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n      // Запрещаем браузеру переходить по адресу формы\r\n      e.preventDefault();\r\n\r\n      // Передаём значения управляемых компонентов во внешний обработчик\r\n      onUpdateUser({\r\n        name,\r\n        about: description,\r\n      });\r\n    }\r\n\r\n    return (\r\n      <PopupWithForm\r\n       name=\"edit\"\r\n       isOpen={isOpen}\r\n       onClose={onClose}\r\n       title=\"Редактировать профиль\"\r\n       onSubmit={handleSubmit}\r\n       children={\r\n          <ul className=\"popup__list\">\r\n              <li className=\"popup__list-element\">\r\n              <input type=\"text\" value={name || ''} onChange={handleChagneName} className=\"popup__data-box\" required minLength=\"2\" maxLength=\"40\" name=\"name\" placeholder=\"Имя пользователя\"/>\r\n              <span className=\"popup__input-error\" id=\"name-error\"></span>\r\n              </li>\r\n              <li className=\"popup__list-element\">\r\n              <input type=\"text\" value={description || ''} onChange={handleChangeAbout} className=\"popup__data-box\" required minLength=\"2\" maxLength=\"200\" name=\"status\" placeholder=\"Профессиональная деятельность\"/>\r\n              <span className=\"popup__input-error\" id=\"status-error\"></span>\r\n              </li>\r\n          </ul>\r\n  }/>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}