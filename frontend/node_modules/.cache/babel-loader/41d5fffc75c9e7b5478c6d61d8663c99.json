{"ast":null,"code":"import _classCallCheck from\"C:/Users/hiksvalP/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/hiksvalP/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var adress=_ref.adress,headers=_ref.headers;_classCallCheck(this,Api);this._adress=adress;this._headers=headers;}_createClass(Api,[{key:\"_getResponseData\",value:function _getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}return res.json();}// загрука информации пользователя\n},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._adress,\"/users/me\"),{headers:this._headers,credentials:'include'}).then(this._getResponseData);}// загрузка карточек\n},{key:\"getCards\",value:function getCards(){return fetch(\"\".concat(this._adress,\"/cards\"),{headers:this._headers,credentials:'include'}).then(this._getResponseData);}// отправка информации о пользователе на сервер\n},{key:\"editInfo\",value:function editInfo(name,status){return fetch(\"\".concat(this._adress,\"/users/me\"),{method:\"PATCH\",credentials:'include',headers:this._headers,body:JSON.stringify({name:name,about:status})}).then(this._getResponseData);}// загрузка карточки на сервер\n},{key:\"uploadCard\",value:function uploadCard(cardName,cardLink){return fetch(\"\".concat(this._adress,\"/cards\"),{method:\"POST\",headers:this._headers,credentials:'include',body:JSON.stringify({name:cardName,link:cardLink})}).then(this._getResponseData);}// удаление карточки\n},{key:\"deleteCard\",value:function deleteCard(cardId,isMine){if(isMine){return fetch(\"\".concat(this._adress,\"/cards/\").concat(cardId),{method:\"DELETE\",credentials:'include',headers:this._headers}).then(this._getResponseData);}}// изменение лайка (добавление или удаление)\n},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){if(isLiked){return fetch(\"\".concat(this._adress,\"/cards/\").concat(cardId,\"/likes\"),{method:\"DELETE\",credentials:'include',headers:this._headers}).then(this._getResponseData);}else{return fetch(\"\".concat(this._adress,\"/cards/\").concat(cardId,\"/likes\"),{method:\"PUT\",credentials:'include',headers:this._headers}).then(this._getResponseData);}}// изминение аватарка пользователя\n},{key:\"changeAvatar\",value:function changeAvatar(link){return fetch(\"\".concat(this._adress,\"/users/me/avatar\"),{method:\"PATCH\",credentials:'include',headers:this._headers,body:JSON.stringify({avatar:link})}).then(this._getResponseData);}}]);return Api;}();// создание класса АПИ и его экспорт\nexport var api=new Api({adress:'https://plavskikh.mesto.nomorepartiesxyz.ru',headers:{\"Content-Type\":\"application/json\"}});","map":{"version":3,"sources":["C:/Users/hiksvalP/react-mesto-api-full/frontend/src/utils/Api.js"],"names":["Api","adress","headers","_adress","_headers","res","ok","Promise","reject","status","json","fetch","credentials","then","_getResponseData","name","method","body","JSON","stringify","about","cardName","cardLink","link","cardId","isMine","isLiked","avatar","api"],"mappings":"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","sourcesContent":["class Api {\r\n    constructor({adress, headers}) {\r\n        this._adress = adress;\r\n        this._headers = headers;\r\n    }\r\n\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка ${res.status}`) \r\n        }\r\n        return res.json();\r\n    } \r\n\r\n    // загрука информации пользователя\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._adress}/users/me`, {\r\n            headers: this._headers,\r\n            credentials: 'include',\r\n        }).then(this._getResponseData)\r\n    }\r\n\r\n    // загрузка карточек\r\n\r\n    getCards() {\r\n        return fetch(`${this._adress}/cards`, {\r\n            headers: this._headers,\r\n            credentials: 'include',\r\n        }).then(this._getResponseData)\r\n    }\r\n  \r\n    // отправка информации о пользователе на сервер\r\n\r\n    editInfo(name, status) {\r\n        return fetch(`${this._adress}/users/me`, {\r\n            method: \"PATCH\",\r\n            credentials: 'include',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: status\r\n            })\r\n        }).then(this._getResponseData)\r\n    }\r\n\r\n    // загрузка карточки на сервер\r\n\r\n    uploadCard(cardName, cardLink) {\r\n        return fetch(`${this._adress}/cards`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            credentials: 'include',\r\n            body: JSON.stringify({\r\n                name: cardName,\r\n                link: cardLink\r\n            })\r\n        }).then(this._getResponseData)\r\n    }\r\n\r\n    // удаление карточки\r\n\r\n    deleteCard(cardId, isMine) {\r\n        if(isMine) {\r\n                return fetch(`${this._adress}/cards/${cardId}`, {\r\n                method: \"DELETE\",\r\n                credentials: 'include',\r\n                headers: this._headers,\r\n            }).then(this._getResponseData)\r\n        }\r\n    }\r\n\r\n    // изменение лайка (добавление или удаление)\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        if(isLiked) {\r\n            return fetch(`${this._adress}/cards/${cardId}/likes`, {\r\n                method: \"DELETE\",\r\n                credentials: 'include',\r\n                headers: this._headers,\r\n            }).then(this._getResponseData)\r\n        } else {\r\n            return fetch(`${this._adress}/cards/${cardId}/likes`, {\r\n                method: \"PUT\",\r\n                credentials: 'include',\r\n                headers: this._headers,\r\n            }).then(this._getResponseData)\r\n        }\r\n    } \r\n    \r\n    // изминение аватарка пользователя\r\n\r\n    changeAvatar(link) {\r\n        return fetch(`${this._adress}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            credentials: 'include',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        }).then(this._getResponseData)\r\n    }\r\n}\r\n    // создание класса АПИ и его экспорт\r\n\r\nexport const api = new Api({\r\n    adress: 'https://plavskikh.mesto.nomorepartiesxyz.ru',\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n})"]},"metadata":{},"sourceType":"module"}